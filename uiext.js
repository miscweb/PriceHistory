var UIExtension=function(){var t={email:"strictmodeoff@gmail.com",resourceUrl:"https://raw.githubusercontent.com/miscweb/PriceHistory/1.1/images/y2/",scriptUrl:"https://rawgit.com/miscweb/PriceHistory/1.1/ph.js",analyticsUrl:"https://rawgit.com/miscweb/PriceHistory/1.1/analytics.js",tracking:"UA-116724973-1"};return{LoadLibrary:function(t,e){var n=document.createElement("script");n.type="text/javascript",n.src=t,n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,e&&e())}:n.onload=function(){e&&e()},document.getElementsByTagName("head")[0].appendChild(n)},Dom:function(){return $},Url:function(e){return t.resourceUrl+e},Sort:function(t){$(".phcontainer.status"+t).get().reverse().forEach(function(t){var e=(t=$(t).parents(".app_search_results_feed_item_holder")).prevAll();e.length>0&&t.insertBefore(e[e.length-1])})},Paint:function(e){var n=$('<div class="phico" style="position:absolute;display:table;bottom:5px;right:5px;width: 100px;height: 50px;border: 2px solid rgb(255,255,255);border-radius: 10%;cursor:pointer;opacity:0.9;box-shadow: 3px 4px 4px rgba(0,0,0,0.2);background-color:#00B53E;"/>'),i=$('<div style="padding:5px 5px 5px;"/>');n.append(i);var o=$("<img style='width:40px;height:40px;' src='"+UIExtension.Url("test.png")+"'/>");o.click(function(){if(e&&e.length>0){var t=[];e.forEach(function(e,n){t.push({id:e.id,uid:e.uid,status:n%2==0?1:2,fd:e.d,history:[{d:e.d,p:n%2==0?e.p+1:e.p-1}]})}),ph.UI(t),tr.Event({category:document.location.hostname,action:"click",label:"demo"})}}),i.append(o),(o=$("<a href='mailto:"+t.email+"' target='_top'><img style='width:40px;height:40px;' src='"+UIExtension.Url("mail.png")+"'/></a>")).click(function(){tr.Event({category:document.location.hostname,action:"click",label:"mail"})}),i.append(o),n.insertBefore("#app_search_results_search_button"),(n=$('<div class="app_sort_menu_item">מחיר יורד</div>')).click(function(){UIExtension.Sort(1)}),$("#app_sort_menu_holder").append(n),(n=$('<div class="app_sort_menu_item">מחיר עולה</div>')).click(function(){UIExtension.Sort(2)}),$("#app_sort_menu_holder").append(n)},Init:function(){void 0===window.jQuery?UIExtension.LoadLibrary("//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js",function(){UIExtension.Init()}):"undefined"==typeof ph?UIExtension.LoadLibrary(t.scriptUrl,function(){UIExtension.Init()}):(ph.Init({domain:document.location.hostname,uiext:UIExtension}).Run(null,function(t,e){UIExtension.Paint(e),t.length>0&&ph.UI(t)}),UIExtension.LoadLibrary(t.analyticsUrl,function(){tr.Init(t.tracking).PageView()}))}}}();UIExtension.Init();